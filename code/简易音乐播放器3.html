<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="" />
<meta name="copyright" content="" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>简易播放器</title>
<style>
a.on{ background:url(play.gif) no-repeat right; padding-right:40px; }
</style>
<script>
function rnd(n,m){
	return Math.floor(Math.random()*(m-n)+n);
}
window.onload=function (){
	var aA=document.querySelectorAll('a');
	var oA=document.querySelector('audio');
	var aInp=document.querySelectorAll('input');
	var iNow=0;
	
	for(var i=0; i<aA.length; i++){
		aA[i].index=i;
		aA[i].ondblclick=function (){
			iNow=this.index;
			play();
		};
	}
	function play(){
		for(var i=0; i<aA.length; i++){
			aA[i].className='';
		}
		aA[iNow].className='on';
		oA.src='mp3/'+aA[iNow].innerHTML+'.mp3';
		oA.play();
	}
	aInp[0].onclick=function (){
		oA.playState=1;
	};
	aInp[1].onclick=function (){
		oA.playState=2;
	};
	aInp[2].onclick=function (){
		oA.playState=3;
	};
	aInp[3].onclick=function (){
		oA.playState=4;
	};
	
	oA.onended=function (){
		switch(oA.playState){
			case 1:
				oA.play();
				break;
			case 2:
				iNow++;
				play();
				break;
			case 3:
				iNow=rnd(0,aA.length);
				play();
				break;
			case 4:
				iNow++;
				iNow%=aA.length;
				play();
				break;
		}
	};
};
</script>
</head>

<body>
	<input type="button" value="单曲循环" />
	<input type="button" value="顺序播放" />
	<input type="button" value="随机播放" />
	<input type="button" value="列表循环" />
    <br />
	<audio controls></audio>
	<ul>
    	<li><a href="javascript:;">千千阙歌</a></li>
    	<li><a href="javascript:;">时间都去哪儿了</a></li>
    	<li><a href="javascript:;">小苹果</a></li>
    	<li><a href="javascript:;">夜的钢琴曲</a></li>
    	<li><a href="javascript:;">雨的印记</a></li>
    </ul>
</body>
</html>




















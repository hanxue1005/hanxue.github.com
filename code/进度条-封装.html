<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="" />
<meta name="copyright" content="" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>进度条封装</title>
<style>
*{ margin:0; padding:0; }
body{ background:#000; overflow:hidden; }
canvas{ background:#fff; }
</style>
<script>
function rnd(n,m){
	return Math.floor(Math.random()*(m-n)+n);
}
function d2a(n){
	return n*Math.PI/180;
}
function a2d(n){
	return n*180/Math.PI;
}
window.onload=function (){
	var oC=document.querySelector('canvas');
	var gd=oC.getContext('2d');
	
	var cx=200;
	var cy=200;
	
	function drawArc(start,end,r,color){
		start=start-90;
		end=end-90;
		
		gd.beginPath();
		gd.strokeStyle=color||'#000';
		gd.arc(cx,cy,r,d2a(start),d2a(end),false);
		gd.stroke();
	}
	var r=10;
	
	setInterval(function (){
		drawArc(0,360,r+=5,'#399');
	},100);
};
</script>
</head>

<body>
	<canvas width="800" height="600"></canvas>
</body>
</html>



















